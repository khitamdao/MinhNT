#!MANAGED-CONFIG https://raw.githubusercontent.com/khitamdao/MinhNT/master/Surge/Surge4.conf interval=86400 strict=true
# Nguyễn Trường Minh --- Update: 03/11/2022

[General]
hide-vpn-icon = true
loglevel = notify
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local
doh-skip-cert-verification = true
dns-server = 8.8.8.8, 1.1.1.1, 45.90.28.0, 45.90.30.0
allow-wifi-access = false

[Replica]
hide-apple-request = 1
hide-crash-reporter-request = 1
hide-udp = 1
use-keyword-filter = false
keyword-filter-type = none

[Proxy]
MinhNT = http, 127.0.0.1, 80, username, password

[Proxy Group]
Proxy = select, MinhNT

[Rule]
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-exceptions-rule.conf,DIRECT,update-interval=21600
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-rule.conf,REJECT-TINYGIF,update-interval=21600
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-OTA.conf,REJECT-TINYGIF,update-interval=21600
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-FB.conf,REJECT-TINYGIF,update-interval=21600
RULE-SET,https://raw.githubusercontent.com/bigdargon/hostsVN/master/option/hostsVN-surge-rewrite.conf,REJECT-TINYGIF,update-interval=21600
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
FINAL,DIRECT

[URL Rewrite]
# Youtube
(^https?:\/\/.+\.googlevideo\.com\/.+)(&ctier=[A-Z])(&.+) $1$3 302
^https?:\/\/.+?\.googlevideo\.com\/.+\/videogoodput - reject
^https?:\/\/(www|s)\.youtube\.com\/api\/stats\/ads - reject
^https?:\/\/(www|s)\.youtube\.com\/(pagead|ptracking|sw.js|error_204|generate_204) - reject
^https?:\/\/s\.youtube\.com\/api\/stats\/(qoe|watchtime|) - reject
^https?:\/\/youtubei\.googleapis\.com\/youtubei\/v\d\/player\/ad_break - reject
^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(log_event|att|guide) - reject
^https:\/\/www\.youtube\.com\/pcs\/activeview - reject

# TikTok
(?<=_region=)CN(?=&) US 307
(?<=&mcc_mnc=)4 2 307
^(https?:\/\/(tnc|dm)[\w-]+\.\w+\.com\/.+)(\?)(.+) $1$3 302
(^https?:\/\/*\.\w{4}okv.com\/.+&.+)(\d{2}\.3\.\d)(.+) $118.0$3 302
(?<=eme\/v)2(?=\/f\w{2}d\/\?.*) 1 302

[MITM]
skip-server-cert-verify = true
ca-passphrase = 28E01729
ca-p12 = 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

hostname = -redirector*.googlevideo.com, *.googlevideo.com, www.youtube.com, s.youtube.com, youtubei.googleapis.com, *.tiktokv.com, *.byteoversea.com, *.tik-tokapi.com,

[Host]
# Trong Module

[Script]
Youtube-Fake = type=http-request,pattern=^https?:\/\/[\w-]+\.googlevideo\.com\/(?!(dclk_video_ads|videoplayback\?)).+&oad,requires-body=0,script-path=https://raw.githubusercontent.com/Maasea/sgmodule/master/Script/Youtube/youtube-fake.js
AdsInHome = type=http-response,pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next)\?,requires-body=1,binary-body-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/youtube.js
Youtube-Player = type=http-response,pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/player,requires-body=1,binary-body-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/Maasea/sgmodule/master/Script/Youtube/youtube-player.js
